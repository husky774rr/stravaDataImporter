{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Launch Strava Data Importer",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/main.go",
            "env": {
                "PORT": "8080",
                "LOG_LEVEL": "debug",
                "STRAVA_CLIENT_ID": "your_strava_client_id",
                "STRAVA_CLIENT_SECRET": "your_strava_client_secret",
                "STRAVA_REDIRECT_URI": "http://localhost:8080/auth/callback",
                "INFLUXDB_URL": "http://localhost:8086",
                "INFLUXDB_TOKEN": "test-token",
                "INFLUXDB_ORG": "strava",
                "INFLUXDB_BUCKET": "activities",
                "TOKEN_REFRESH_INTERVAL": "24h",
                "DATA_IMPORT_INTERVAL": "1h",
                "TWITTER_API_KEY": "your_twitter_api_key",
                "TWITTER_API_SECRET": "your_twitter_api_secret",
                "TWITTER_ACCESS_TOKEN": "your_twitter_access_token",
                "TWITTER_ACCESS_TOKEN_SECRET": "your_twitter_access_token_secret"
            },
            "args": [],
            "showLog": true,
            "console": "integratedTerminal",
            "preLaunchTask": "go: build"
        },
        {
            "name": "Debug Test",
            "type": "go",
            "request": "launch",
            "mode": "test",
            "program": "${workspaceFolder}",
            "env": {
                "INFLUXDB_URL": "http://localhost:8086",
                "INFLUXDB_TOKEN": "test-token",
                "INFLUXDB_ORG": "test",
                "INFLUXDB_BUCKET": "test",
                "STRAVA_CLIENT_ID": "test",
                "STRAVA_CLIENT_SECRET": "test",
                "STRAVA_REDIRECT_URI": "http://localhost:8080/auth/callback"
            },
            "args": [
                "-test.v"
            ],
            "showLog": true,
            "console": "integratedTerminal"
        },
        {
            "name": "Debug Current Test",
            "type": "go",
            "request": "launch",
            "mode": "test",
            "program": "${fileDirname}",
            "env": {
                "INFLUXDB_URL": "http://localhost:8086",
                "INFLUXDB_TOKEN": "test-token",
                "INFLUXDB_ORG": "test",
                "INFLUXDB_BUCKET": "test",
                "STRAVA_CLIENT_ID": "test",
                "STRAVA_CLIENT_SECRET": "test",
                "STRAVA_REDIRECT_URI": "http://localhost:8080/auth/callback"
            },
            "args": [
                "-test.v",
                "-test.run",
                "^${input:testName}$"
            ],
            "showLog": true,
            "console": "integratedTerminal"
        },
        {
            "name": "Attach to Docker Container",
            "type": "go",
            "request": "attach",
            "mode": "remote",
            "remotePath": "/app",
            "port": 2345,
            "host": "127.0.0.1",
            "showLog": true,
            "trace": "verbose"
        }
    ],
    "inputs": [
        {
            "id": "testName",
            "description": "Test function name",
            "default": "",
            "type": "promptString"
        }
    ]
}
